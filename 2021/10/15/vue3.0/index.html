<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="google-site-verification" content="TZE0rZyIqLl10trYu3BWBWa1Vmz6HFwhb2OcNEK4u-s" />
     <link rel="shortcut icon" href= /img/favicon.ico >
    <title>
        å¶å­çš„çŸ¥è¯†æ ‘
    </title>
    <meta name="description" content= å˜¿ï¼Œæˆ‘æ˜¯å¶å­é¸­ï½è¿™æ˜¯æˆ‘çš„çŸ¥è¯†æ ‘ï¼Œæ¬¢è¿å¤§å®¶æµè§ˆå“¦ğŸ‘ğŸ‘ï¼ >
    <meta name="keywords" content= Blog,Hexo,Theme,åˆ˜è®­ç¼,LiuXunzhuo >
    
<link rel="stylesheet" href="/libs/highlight/styles/monokai-sublime.css">

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>
<body id="bodyx">
    <div class="hd posts">
    <a href="/index.html"><i class="fa fa-home
 replay-btn" aria-hidden="true"></i></a>
    <div class="post-title">
        <p>
            vue3.0çŸ¥è¯†ç‚¹
        </p>
        <hr>
    </div>
    <div class="post-content">
        <h2 id="watch-ä¸watchEffectçš„åŒºåˆ«"><a href="#watch-ä¸watchEffectçš„åŒºåˆ«" class="headerlink" title="watch ä¸watchEffectçš„åŒºåˆ«"></a>watch ä¸watchEffectçš„åŒºåˆ«</h2><h4 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h4><p>watchç”¨æ¥ç›‘å¬ç‰¹å®šçš„æ•°æ®æºï¼Œå¹¶åœ¨å›è°ƒå‡½æ•°ä¸­æ‰§è¡Œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch(source,callback,options)</span><br></pre></td></tr></table></figure>

<p>å…·ä½“çš„ç”¨æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//æ— è®ºæ˜¯refå®šä¹‰çš„å¯¹è±¡è¿˜æ˜¯reactiveå®šä¹‰çš„å¯¹è±¡ï¼Œè¦ç›‘å¬å¯¹è±¡ä¸­çš„å±æ€§å€¼å˜åŒ–ï¼Œä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•</span><br><span class="line">const data = ref(&#123;pageNum:1&#125;)</span><br><span class="line">const add = ()=&gt;&#123;</span><br><span class="line">  data.value.pageNum++</span><br><span class="line">&#125;</span><br><span class="line">add()</span><br><span class="line">watch(() =&gt; data.value.pageNum, (val, oldVal) =&gt; &#123;</span><br><span class="line">   if (val !== oldVal) &#123;</span><br><span class="line">     data.value.pageNum = val</span><br><span class="line">     //å½“é¡µç ä¸ä¸€æ ·è°ƒå–æ¥å£</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//å¦‚æœç›‘å¬çš„æ˜¯refå®šä¹‰çš„ç®€å•æ•°æ®ç±»å‹ï¼Œåˆ™watchçš„ç¬¬ä¸€ä¸ªå‚æ•°ç›´æ¥æ˜¯ä½ è¦ç›‘å¬çš„é‚£ä¸ªå˜é‡ï¼š</span><br><span class="line">var count = ref(0)</span><br><span class="line">watch(count, (val, oldVal) =&gt; &#123;</span><br><span class="line">   if (val !== oldVal) &#123;</span><br><span class="line">     data.value.pageNum = val</span><br><span class="line">     //å½“é¡µç ä¸ä¸€æ ·è°ƒå–æ¥å£</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å¯èƒ½æœ‰äººä¼šè§‰å¾—ç›´æ¥æ¯æ¬¡ç›‘å¬ï¼Œéƒ½éœ€è¦å†™ä¸€éwatchå‡½æ•°ï¼Œå¾ˆéº»çƒ¦ã€‚é‚£vue3.0ä¹Ÿæä¾›äº†å¤šä¸ªæ•°æ®çš„ç›‘å¬</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">watch([()=&gt;data.value.pageNum,count],([curPage,oldPage],[curCount,oldCount])=&gt;&#123;</span><br><span class="line">	//åœ¨è¿™é‡Œåšç›‘å¬å˜åŒ–åçš„äº‹æƒ…å°±okäº†</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ï¼Œå¦‚æœä½ æƒ³ä¸€å¼€å§‹å°±åœ¨å›è°ƒå‡½æ•°ä¸­åšä¸€äº›åŠ¨ä½œé‚£å°±åœ¨ç¬¬ä¸‰ä¸ªå‚æ•°ä¸­ä½¿ç”¨immediate: trueã€‚</p>
<p>å¦‚æœä½ ç›‘å¬çš„æ˜¯å¤æ‚çš„æ•°æ®ç±»å‹ï¼Œé‚£å°±å¯ä»¥ç”¨deep:trueå¯¹æ•°æ®æ–½è¡Œæ·±åº¦ç›‘å¬ã€‚</p>
<h4 id="watchEffect"><a href="#watchEffect" class="headerlink" title="watchEffect"></a>watchEffect</h4><p>åœ¨è®²watchEffectä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹åœ¨é¡¹ç›®ä¸­æˆ‘ä»¬æ€ä¹ˆå»ç”¨å®ƒï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const childOne = ref(null)</span><br><span class="line">watchEffect(()=&gt;&#123;</span><br><span class="line">        console.log(&#x27;æ‰“å°&#x27;,childOne.value)</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">        flush:&#x27;post&#x27;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<p>![image-20210930155922138](/Users/zlj/Library/Application Support/typora-user-images/image-20210930155922138.png)</p>
<p>è¿™é‡Œæˆ‘åŠ äº†flushè¿™ä¸ªå±æ€§ï¼Œè¿™ä¸ªå±æ€§ï¼Œä½ ä»æ‰“å°çš„æ—¥å¿—å°±å¯ä»¥çŸ¥é“äº†ï¼Œå¦‚æœä¸åŠ çš„è¯ï¼Œå°±ä¼šæ‰“å°æ¨¡ç‰ˆè¿˜æœªæŒ‚åœ¨çš„å€¼ï¼ŒåŠ äº†flushä¸€å®šæ˜¯æŒ‚åœ¨å®Œæ¯•æ‰ä¼šæ‰“å°</p>
<h4 id="stop"><a href="#stop" class="headerlink" title="stop"></a>stop</h4><p>åœæ­¢ç›‘å¬ï¼Œçœ‹åˆ°è¿™é‡Œæ˜¯ä¸æ˜¯è§‰å¾—ï¼Œå†™vue2.0çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™æƒ³åœæ­¢ç›‘å¬å´æ— è®¡å¯æ–½ï¼Œåªèƒ½çœ¼å·´å·´çš„ç­‰åˆ°ç»„ä»¶è¢«é”€æ¯çš„æ—¶å€™æ‰èƒ½åœæ­¢ã€‚æ˜¯ä¸æ˜¯å¾ˆæ°”å‘¢ï¼Ÿè¿™ä¸vue3.0å°±ç»™ä½ æä¾›äº†stopå‡½æ•°æ¥åœæ­¢ç›‘å¬ã€‚</p>
<p>é‚£å¦‚ä½•åœæ­¢ç›‘å¬å‘¢ï¼Œæ¯”è¾ƒç®€å•å°±æ˜¯å†è°ƒä¸€æ¬¡ä½ çš„watch()ç›‘å¬å‡½æ•°çš„è¿”å›å€¼ã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const stop=watch(count, (val, oldVal) =&gt; &#123;</span><br><span class="line">   if (val !== oldVal) &#123;</span><br><span class="line">     data.value.pageNum = val</span><br><span class="line">     //å½“é¡µç ä¸ä¸€æ ·è°ƒå–æ¥å£</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">//ç„¶ååœ¨æŸä¸ªå‡½æ•°ä¸­è°ƒç”¨stop()å‡½æ•°ï¼Œç›‘å¬å°±åœæ­¢äº†</span><br></pre></td></tr></table></figure>

<p>æ•´ç¯‡æ–‡ç« çš„é¢˜ç›®æ˜¯ï¼šwatch ä¸watchEffectçš„åŒºåˆ«ï¼Œè¿˜æ˜¯è¦ç‚¹ä¸€ä¸‹é¢˜çš„ï¼Œå“ˆå“ˆ</p>
<p>firstï¼šwatchEffectä¸éœ€è¦æŒ‡å®šç›‘å¬çš„å±æ€§ï¼Œè‡ªåŠ¨æ”¶é›†ä¾èµ–ï¼›</p>
<p>second:watchEffectæ‹¿ä¸åˆ°æ—§å€¼ï¼›watchå¯ä»¥æ‹¿åˆ°æ—§å€¼</p>
<p>third:watchEffectåœ¨ç»„ä»¶ç¬¬ä¸€æ¬¡å°±ä¼šæ”¶é›†ä¾èµ–ï¼Œç„¶åæ”¶é›†åˆ°çš„ä¾èµ–å‘ç”Ÿäº†å˜åŒ–ï¼Œå›è°ƒæ‰ä¼šå†æ¬¡æ‰§è¡Œï¼›watchå°±ä¸æ˜¯äº†ã€‚ä¸€å¼€å§‹å°±æŒ‡å®šäº†ä¾èµ–ã€‚</p>
<p>1.getcurrentInstance:è·å–ç»„ä»¶å®ä¾‹ï¼›developmentï¼Œå³å¼€å‘ç¯å¢ƒä¸‹æ‰èƒ½è·å–åˆ°å½“å‰ç»„ä»¶çš„å®ä¾‹</p>
<p>2.setup()ä¸­çš„å‚æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰propsï¼šå€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«ï¼šç»„ä»¶å¤–éƒ¨ä¼ é€’è¿‡æ¥ï¼Œä¸”ç»„ä»¶å†…éƒ¨å£°æ˜æ¥æ”¶äº†çš„å±æ€§ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ2ï¼‰contextï¼šä¸Šä¸‹æ–‡å¯¹è±¡</span><br><span class="line">  attrs: å€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«ï¼šç»„ä»¶å¤–éƒ¨ä¼ é€’è¿‡æ¥ï¼Œä½†æ²¡æœ‰åœ¨     propsé…ç½®ä¸­å£°æ˜çš„å±æ€§, ç›¸å½“äº this.$attrsã€‚</span><br><span class="line">  slots: æ”¶åˆ°çš„æ’æ§½å†…å®¹, ç›¸å½“äº this.$slotsã€‚</span><br><span class="line">  emit: åˆ†å‘è‡ªå®šä¹‰äº‹ä»¶çš„å‡½æ•°, ç›¸å½“äº this.$emitã€‚</span><br></pre></td></tr></table></figure>

<p>3.slot:ç»„ä»¶æ’æ§½ï¼ˆå†…å®¹åˆ†å‘ï¼‰</p>
<p>vueçš„slotåˆ†ä¸ºåŒ¿åæ’æ§½ã€å…·åæ’æ§½ã€ä½œç”¨åŸŸæ’æ§½</p>
<p>åœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨v-slot:btnsè®©çˆ¶ç»„ä»¶çš„å†…å®¹åœ¨å­ç»„ä»¶ä¸­æ˜¾ç¤ºã€‚</p>
<p>å…·åæ’æ§½ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--Â Â å­ç»„ä»¶ä¸­ï¼š--&gt;</span><br><span class="line">&lt;slotÂ name=&quot;title&quot;&gt;&lt;/slot&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--Â Â çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨ï¼š--&gt;</span><br><span class="line">&lt;template slot=&quot;title&quot;&gt;</span><br><span class="line">    &lt;h1&gt;æ­Œæ›²ï¼šæˆéƒ½&lt;/h1&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;!-- å­ç»„ä»¶ä¸Šä¼ é€’æ•°æ® --&gt;</span><br><span class="line">&lt;slot name=&quot;content&quot; :data=&quot;data&quot;&gt;&lt;/slot&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            data:[&quot;èµ°è¿‡æ¥äººæ¥äººå¾€&quot;,&quot;ä¸å–œæ¬¢ä¹Ÿå¾—æ¬£èµ&quot;]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨ --&gt;</span><br><span class="line">&lt;template slot=&quot;content&quot; slot-scope=&quot;scoped&quot;&gt;</span><br><span class="line">    &lt;div v-for=&quot;item in scoped.data&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åœ¨vue3.0ä¸­å°†slotå’Œslot-scopeåˆå¹¶ç»Ÿä¸€ä½¿ç”¨ï¼šv-slot</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;template v-slot:content=&quot;scoped&quot;&gt;</span><br><span class="line">    &lt;div v-for=&quot;item in scoped.data&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;template&gt;</span><br></pre></td></tr></table></figure>

<p>4.renderå‡½æ•°çš„ä½¿ç”¨</p>
<p>åŠ¨æ€åˆ›å»ºtemplateçš„å†…å®¹ã€‚åœ¨ä½¿ç”¨renderå‡½æ•°æ—¶ï¼Œåœ¨.vueæ–‡ä»¶ä¸­éœ€è¦æŠŠtemplateæ ‡ç­¾å»æ‰ï¼Œåªä¿ç•™é€»è¾‘å±‚ã€‚</p>
<p>ç›´æ¥ä½¿ç”¨renderå‡½æ•°æ„å»ºDOMã€‚vueå°±å…å»äº†è½¬è¯‘çš„è¿‡ç¨‹ã€‚å½“ä½¿ç”¨renderå‡½æ•°æè¿°è™šæ‹ŸDOMæ—¶ï¼Œvueæä¾›ä¸€ä¸ªå‡½æ•°ã€‚ è¿™ä¸ªå‡½æ•°çš„åå­—å«createElementã€‚è¿˜æœ‰çº¦å®šçš„ç®€å†™å«h.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å†™æ³•ä¸€ï¼šrender(h)&#123;        return h(&#x27;div&#x27;,&#123;//ç¬¬äºŒä¸ªå‚æ•°            class:&#123;                &#x27;is-red&#x27;: this.isRed            &#125;        &#125;,        //ç¬¬ä¸‰ä¸ªå‚æ•°          [h(&#x27;p&#x27;,&#x27;è¿™æ˜¯ä¸€ä¸ªrender&#x27;)]          );  &#125;  å†™æ³•äºŒï¼š  render(h, context) &#123;    return (    &lt;div class=&#x27;m-chartConInner&#x27; ref=&#x27;content&#x27;&gt;       &lt;p&gt;è¿™æ˜¯ä¸€ä¸ªrender&lt;/p&gt;    &lt;/div&gt;)  &#125;  ç¼–è¯‘å‡ºæ¥ï¼š  &lt;div :class=&quot;&#123;&#x27;is-red&#x27;:isRed &#125;&quot;&gt;       &lt;p&gt;è¿™æ˜¯ä¸€ä¸ªrender&lt;/p&gt;  &lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>5.cancelTokenå–æ¶ˆè¯·æ±‚</p>
<p>cancelTokenæ˜¯axiosç”¨æ¥å–æ¶ˆè¯·æ±‚çš„APIã€‚</p>
<p>é‚£ä¸ºä»€ä¹ˆè¦å–æ¶ˆå‘¢ï¼Ÿæ˜¯ç”±äºæµè§ˆå™¨çš„è¯·æ±‚çš„å“åº”æ—¶é—´å­˜åœ¨ä¸ç¡®å®šæ€§ï¼Œè¯·æ±‚æ¬¡æ•°è¿‡å¤šå¯èƒ½è¾ƒæ—©å‘èµ·çš„è¯·æ±‚ä¼šæ¯”è¾ƒæ™šçš„å“åº”ã€‚æ‰€ä»¥è¦ä¸ºäº†æå‡é¡µé¢æ€§èƒ½å‡å°‘ä¸å¿…è¦çš„ç­‰å¾…ï¼Œæˆ‘ä»¬éœ€è¦å–æ¶ˆä¸éœ€è¦ç­‰å¾…çš„è¾ƒæ—©çš„è¯·æ±‚ã€‚</p>
<p>é‚£ç§è¿‡å¤šçš„è¯·æ±‚æ˜¯æ— æ„ä¹‰ä¸”æµªè´¹æ€§èƒ½çš„å‘¢ï¼Ÿ</p>
<p>æ¯”å¦‚ï¼šï¼ˆ1ï¼‰èœå•çš„è·¯ç”±é¡µé¢è·³è½¬ã€tabæ çš„é«˜é¢‘åˆ‡æ¢ï¼›</p>
<p>â€‹            ï¼ˆ2ï¼‰æœç´¢æ¡†çš„changeäº‹ä»¶æ¨¡ç³ŠåŒ¹é…æ—¶ï¼ŒçŸ­æ—¶é—´å‘é€å¤šä¸ªajaxè¯·æ±‚ï¼Œè¿”å›æ•°æ®å¹¶ä¸æ˜¯æœ€æƒ³è¦çš„ã€‚</p>
<h4 id="æ³¨æ„ï¼šcancel-token-å¹¶ä¸æ˜¯æ„ä¹‰ä¸Šçš„å–æ¶ˆï¼Œè¯·æ±‚è¿˜æ˜¯ä¼šåˆ°æœåŠ¡å™¨ï¼Œåªæ˜¯æµè§ˆå™¨è¿›è¡Œå¤„ç†ã€‚"><a href="#æ³¨æ„ï¼šcancel-token-å¹¶ä¸æ˜¯æ„ä¹‰ä¸Šçš„å–æ¶ˆï¼Œè¯·æ±‚è¿˜æ˜¯ä¼šåˆ°æœåŠ¡å™¨ï¼Œåªæ˜¯æµè§ˆå™¨è¿›è¡Œå¤„ç†ã€‚" class="headerlink" title="æ³¨æ„ï¼šcancel token å¹¶ä¸æ˜¯æ„ä¹‰ä¸Šçš„å–æ¶ˆï¼Œè¯·æ±‚è¿˜æ˜¯ä¼šåˆ°æœåŠ¡å™¨ï¼Œåªæ˜¯æµè§ˆå™¨è¿›è¡Œå¤„ç†ã€‚"></a>æ³¨æ„ï¼šcancel token å¹¶ä¸æ˜¯æ„ä¹‰ä¸Šçš„å–æ¶ˆï¼Œè¯·æ±‚è¿˜æ˜¯ä¼šåˆ°æœåŠ¡å™¨ï¼Œåªæ˜¯æµè§ˆå™¨è¿›è¡Œå¤„ç†ã€‚</h4><p>é‚£å¦‚ä½•åˆ›å»ºcancelTokenå‘¢ï¼Ÿå…·ä½“å‘¢æœ‰ä¸¤ç§å†™æ³•ï¼š</p>
<p>ç¬¬ä¸€ç§ï¼šä½¿ç”¨CancelToken.sourceå·¥å‚æ–¹å¼åˆ›å»ºcanceltoken:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const cancelToken = axios.CancelToken;const source = cancelToken.source();axios.get(&#x27;/**/**&#x27;,&#123;	cancelToken:source.token&#125;).catch(function(thrown)=&gt;&#123;   if(aixos.isCancel(thrown))&#123;     //å–æ¶ˆè¯·æ±‚ï¼Œæ‰“å°æ—¥å¿—    &#125;else&#123;     //å¤„ç†é”™è¯¯    &#125;&#125;)source.cancel(&quot;å–æ¶ˆ&quot;)//å–æ¶ˆè¯·æ±‚ï¼Œå‚æ•°å¯é€‰</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒç§ï¼šé€šè¿‡ä¼ é€’ä¸€ä¸ªexecutorå‡½æ•°åˆ°CancelTokençš„æ„é€ å‡½æ•°æ¥åˆ›å»ºcancelToken</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const cancelToken = axios.CancelToken;let cancel;axios.post(&quot;**/**&quot;,&#123;name:&quot;11&quot;&#125;,&#123;	cancelToken:new cancelToken(function executor(c)&#123;	//executor å‡½æ•°æ¥æ”¶ä¸€ä¸ªcancelå‡½æ•°ä½œä¸ºå‚æ•°		cancel = c;	&#125;)&#125;)cancel();//å–æ¶ˆè¯·æ±‚</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å¦‚ä½•åº”ç”¨æ¥å–æ¶ˆé‡å¤çš„è¯·æ±‚å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥åœ¨executorå‡½æ•°ä¸­å°†å½“å‰çš„è¯·æ±‚åœ°å€ï¼Œæ·»åŠ åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚ç„¶åç­‰ä¸‹æ¬¡è¯·æ±‚çš„æ—¶å€™ï¼Œåˆ¤æ–­å½“å‰çš„è¯·æ±‚æ˜¯å¦å­˜åœ¨ï¼šå·²ç»å­˜åœ¨åˆ™ç›´æ¥å–æ¶ˆã€‚</p>
<p>è¿™é‡Œéœ€è¦æ³¨æ„ï¼šåªä½¿ç”¨urlä½œä¸ºkey,ä¸æƒ§æœ‰å”¯ä¸€æ€§ï¼Œä¹Ÿå¹¶ä¸å‡†ç¡®ï¼›æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨å½“å‰è¯·æ±‚çš„å…¨éƒ¨ä¿¡æ¯å»ç”Ÿæˆå”¯ä¸€çš„keyã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//æ ¹æ®å½“å‰çš„è¯·æ±‚ä¿¡æ¯ç”Ÿæˆå”¯ä¸€çš„keyfunciton onlyKey = function(config)&#123; const &#123;url,method,params,data&#125; = config; return `$&#123;url&#125;$&#123;method&#125;$&#123;JSON.stringify(params)&#125;$&#123;JSON.stringify(data)&#125;`&#125;const pendingList = new Map();//æ·»åŠ è¯·æ±‚ä¿¡æ¯åˆ°pendingList:function addPending (config)&#123;config.cancelToken = new cancelToken(c=&gt;&#123;  if(!pendingList.has(key))&#123;     pendingList.set(key,c)    &#125;  &#125;)&#125;//æ£€æŸ¥æ˜¯å¦å­˜åœ¨é‡å¤è¯·æ±‚,å­˜åœ¨å°±åˆ é™¤é‡å¤çš„è¯·æ±‚const removePending = (config) =&gt; &#123;  //æ ¹æ®å½“å‰çš„è¯·æ±‚ä¿¡æ¯ç”Ÿæˆå”¯ä¸€çš„key  if(pendingList.has(key))&#123;     const cancelToken = pendingRequest.get(key);     cancelToken(key);     pendingRequest.delete(key);    &#125;  &#125;)&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼š</p>
<p>ï¼ˆ1ï¼‰ç¬¬ä¸€æ¡è¯·æ±‚æ°¸è¿œä¸ä¼šè¢«å–æ¶ˆï¼Œå› ä¸ºè¿˜æœªå°†å…¶æ·»åŠ åˆ°pendingListä¸­å­˜å‚¨ã€‚</p>
<p>ï¼ˆ2ï¼‰æœ€å¥½åœ¨è·¯ç”±è·³è½¬å‰åˆ¤æ–­å¦‚æœä¸æ˜¯å½“å‰çš„è·¯ç”±ï¼Œç§»é™¤å½“å‰pendingListç­‰å¾…çš„è¯·æ±‚ã€‚</p>
<p>çœ‹äº†å¦‚ä½•åœ¨é¡¹ç›®ä¸­åº”ç”¨å•¦ï¼æœ‰å…´è¶£çš„è¯è·Ÿæˆ‘ä¸€èµ·äº†è§£ä¸€ä¸‹æºç é¸­ï¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var Cancel = require(&#x27;./Cancel&#x27;);function CancelToken(executor) &#123;  if (typeof executor !== &#x27;function&#x27;) &#123;    throw new TypeError(&#x27;executor must be a function.&#x27;);  &#125;  //å®šä¹‰resolvePromiseï¼Œåˆ›å»ºpromiseå®ä¾‹ï¼›  //å°†resolveèµ‹å€¼ç»™resolvePromiseï¼›ä½¿å¾—å¯ä»¥åœ¨promiseå¤–éƒ¨æ”¹å˜å¯¹è±¡çš„çŠ¶æ€  var resolvePromise;  this.promise = new Promise(function promiseExecutor(resolve) &#123;    resolvePromise = resolve;  &#125;);  //å°†å½“å‰CancelTokençš„å®ä¾‹èµ‹å€¼ç»™token  var token = this;  //ä¼ å…¥cancelæ–¹æ³•ï¼Œcancelæ–¹æ³•ä¸­å¯ä»¥è°ƒç”¨resolvePromiseæ–¹æ³•ï¼›æ¥æ‰§è¡Œpromiseçš„resolveæ–¹æ³•ï¼Œæ”¹å˜çŠ¶æ€  executor(function cancel(message) &#123;    if (token.reason) &#123;      // Cancellation has already been requested      return;    &#125;    token.reason = new Cancel(message);    resolvePromise(token.reason);  &#125;);&#125;/** * å¦‚æœå–æ¶ˆè¢«è¯·æ±‚ï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªâ€œå–æ¶ˆâ€ã€‚ */CancelToken.prototype.throwIfRequested = function throwIfRequested() &#123;  if (this.reason) &#123;    throw this.reason;  &#125;&#125;; //è¿”å›çš„å¯¹è±¡ä¸­åŒ…å«ä¸€ä¸ªæ–°çš„&#x27; CancelToken &#x27;å’Œä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨è¢«è°ƒç”¨æ—¶ï¼Œå–æ¶ˆè¯·æ±‚CancelToken.source = function source() &#123;  var cancel;  var token = new CancelToken(function executor(c) &#123;  //è¿™é‡Œçš„cå°±æ˜¯CancelTokenä¸­ç»™executorä¼ å…¥cancelæ–¹æ³•    cancel = c;  &#125;);  return &#123;    token: token,    cancel: cancel  &#125;;&#125;;module.exports = CancelToken;</span><br></pre></td></tr></table></figure>

<p>6.vue3.0ä¸­å¦‚ä½•ä½¿ç”¨$emitç»™çˆ¶ç»„ä»¶ä¼ å‚å‘¢</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">emits: [&#x27;child-emit&#x27;],  setup (props, &#123; emit &#125;) &#123;    const childEmit = () =&gt; &#123;      emit(&#x27;child-emit&#x27;, &#x27;æˆ‘æ˜¯å­ç»„ä»¶&#x27;)    &#125;    return &#123;      childEmit    &#125;  &#125;</span><br></pre></td></tr></table></figure>

<p>7.EventBusé€šä¿¡</p>
<p>ä¸‰ç§å®šä¹‰æ–¹å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰æŠ½ç¦»å•ç‹¬çš„bus.jsæ–‡ä»¶ï¼Œåœ¨éœ€è¦ä½¿ç”¨çš„åœ°æ–¹å¼•å…¥    import Vue from &#x27;vue&#x27;    export default new Vue()ï¼ˆ2ï¼‰ç›´æ¥åœ¨main.jsä¸­ï¼ŒæŒ‚è½½åˆ°å…¨å±€    import Vue from &#x27;vue&#x27;    Vue.prototype.$bus = new Vue() (3) æ³¨å…¥åˆ°vueæ ¹å¯¹è±¡ä¸Š    import Vue from &quot;vue&quot;    new Vue(&#123;      el:&quot;#app&quot;,      data:&#123;          Bus: new Vue()        &#125;      &#125;)</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ–¹å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// åœ¨éœ€è¦å‘å¤–éƒ¨å‘é€è‡ªå®šä¹‰äº‹ä»¶çš„ç»„ä»¶å†…&lt;template&gt;    &lt;button @click=&quot;handlerClick&quot;&gt;æŒ‰é’®&lt;/button&gt;&lt;/template&gt;import Bus from &quot;./Bus.js&quot;export default&#123;    methods:&#123;        handlerClick()&#123;            // è‡ªå®šä¹‰äº‹ä»¶å sendMsg            Bus.$emit(&quot;sendMsg&quot;, &quot;è¿™æ˜¯è¦å‘å¤–éƒ¨å‘é€çš„æ•°æ®&quot;)        &#125;    &#125;&#125;// åœ¨éœ€è¦æ¥æ”¶å¤–éƒ¨äº‹ä»¶çš„ç»„ä»¶å†…import Bus from &quot;./Bus.js&quot;export default&#123;    mounted()&#123;        // ç›‘å¬äº‹ä»¶çš„è§¦å‘        Bus.$on(&quot;sendMsg&quot;, data =&gt; &#123;            console.log(&quot;è¿™æ˜¯æ¥æ”¶åˆ°çš„æ•°æ®ï¼š&quot;, data)        &#125;)    &#125;,    beforeDestroy()&#123;        // å–æ¶ˆç›‘å¬        Bus.$off(&quot;sendMsg&quot;)    &#125;&#125;</span><br></pre></td></tr></table></figure>



<h2 id="async-awaitæ›´ä¼˜é›…çš„é”™è¯¯å¤„ç†"><a href="#async-awaitæ›´ä¼˜é›…çš„é”™è¯¯å¤„ç†" class="headerlink" title="async/awaitæ›´ä¼˜é›…çš„é”™è¯¯å¤„ç†"></a>async/awaitæ›´ä¼˜é›…çš„é”™è¯¯å¤„ç†</h2><p>1.ä¹‹å‰ä½¿ç”¨çš„é”™è¯¯æ–¹æ³•å°±æ˜¯ç”¨try{}catch{}åŒ…è£¹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">try&#123;const red = await queryList()if(res.code==1)&#123;&#125;&#125;catch(err)&#123;é”™è¯¯å¤„ç†&#125;</span><br></pre></td></tr></table></figure>

<p>2.ä½†æ˜¯å¯¹äºå¤šä¸ªå¼‚æ­¥æ–¹æ³•çš„å¤„ç†ï¼Œå¼•å…¥await-to-js:<a target="_blank" rel="noopener" href="https://github.com/scopsy/await-to-js">https://github.com/scopsy/await-to-js</a></p>
<p>åˆ©ç”¨ <code>Promise</code> çš„ç‰¹æ€§ï¼Œåˆ†åˆ«åœ¨ <code>promise.then</code> å’Œ <code>promise.catch</code> ä¸­è¿”å›ä¸åŒçš„æ•°ç»„ï¼Œå…¶ä¸­ <code>fulfilled</code> çš„æ—¶å€™è¿”å›æ•°ç»„ç¬¬ä¸€é¡¹ä¸º <code>null</code>ï¼Œç¬¬äºŒä¸ªæ˜¯ç»“æœã€‚<code>rejected</code> çš„æ—¶å€™ï¼Œè¿”å›æ•°ç»„ç¬¬ä¸€é¡¹ä¸ºé”™è¯¯ä¿¡æ¯ï¼Œç¬¬äºŒé¡¹ä¸º <code>undefined</code>ã€‚ä½¿ç”¨çš„æ—¶å€™ï¼Œåˆ¤æ–­ç¬¬ä¸€é¡¹æ˜¯å¦ä¸ºç©ºï¼Œå³å¯çŸ¥é“æ˜¯å¦æœ‰é”™è¯¯.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i await-to-js --save</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import to from &#x27;await-to-js&#x27;;// If you use CommonJS (i.e NodeJS environment), it should be:// const to = require(&#x27;await-to-js&#x27;).default;async function asyncTaskWithCb(cb) &#123;     let err, user, savedTask, notification;     [ err, user ] = await to(UserModel.findById(1));     if(!user) return cb(&#x27;No user found&#x27;);     [ err, savedTask ] = await to(TaskModel(&#123;userId: user.id, name: &#x27;Demo Task&#x27;&#125;));     if(err) return cb(&#x27;Error occurred while saving task&#x27;);    if(user.notificationsEnabled) &#123;       [ err ] = await to(NotificationService.sendNotification(user.id, &#x27;Task Created&#x27;));       if(err) return cb(&#x27;Error while sending notification&#x27;);    &#125;    if(savedTask.assignedUser.id !== user.id) &#123;       [ err, notification ] = await to(NotificationService.sendNotification(savedTask.assignedUser.id, &#x27;Task was created for you&#x27;));       if(err) return cb(&#x27;Error while sending notification&#x27;);    &#125;    cb(null, savedTask);&#125;async function asyncFunctionWithThrow() &#123;  const [err, user] = await to(UserModel.findById(1));  if (!user) throw new Error(&#x27;User not found&#x27;);  &#125;</span><br></pre></td></tr></table></figure>

<p>Composition API</p>
<h4 id="Fragment"><a href="#Fragment" class="headerlink" title="Fragment"></a>Fragment</h4><p>åœ¨templateä¸­ä¸éœ€è¦æ ¹å…ƒç´ åŒ…è£¹ã€‚</p>
<p>å¥½å¤„ï¼šå‡å°‘æ ‡ç­¾å±‚çº§ï¼Œå‡å°‘å†…å­˜å ç”¨</p>
<h4 id="scriptå·®å¼‚"><a href="#scriptå·®å¼‚" class="headerlink" title="scriptå·®å¼‚"></a>scriptå·®å¼‚</h4><ul>
<li>å¯ä»¥å† <code>script</code> ä½¿ç”¨ <code>ts</code> åªéœ€ è®¾ç½® <code>lang</code> å³å¯</li>
<li><code>defineComponent</code> æ–¹æ³•åˆ›å»ºä¸€ä¸ªç»„ä»¶</li>
<li><code>export default</code> ç›´æ¥å¯¼å‡ºä¸€ä¸ªç»„ä»¶</li>
</ul>
<h1 id=""><a href="#" class="headerlink" title=""></a></h1><h2 id="teleport"><a href="#teleport" class="headerlink" title="teleport"></a>teleport</h2><p>é¦–å…ˆè°ˆè°ˆé€‚ç”¨åœºæ™¯ï¼šæ¯”å¦‚Dialogå³å¸Œæœ›åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨ï¼Œåˆå¸Œæœ›ä¸è¦åµŒå¥—å¤ªæ·±åˆ°å­ç»„ä»¶ä¸­ã€‚æœ‰äº›ç±»ä¼¼äºelement-uiä¸­çš„append-to-bodyã€‚å°†ç»„å»ºæ·»åŠ åˆ°bodyä¸‹é¢ã€‚</p>
<p>ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¹ˆåšå‘¢ï¼Ÿæˆ‘ä»¬éƒ½çŸ¥é“æœ‰æ—¶å€™æˆ‘ä»¬çš„ç»„ä»¶åµŒå¥—å¾ˆæ·±ï¼ŒDi alogçš„å®šä½å°±ä¸æ˜¯å¾ˆå¥½å®šä½ã€‚å› æ­¤vue3ç»™æˆ‘ä»¬æä¾›äº†teleportã€ä¼ é€é—¨ã€‘ï¼Œå°±æ˜¯å°†ä½ çš„ç»„ä»¶æ”¾åˆ°ä½ æƒ³è¦å®ƒå¾…ç€çš„åœ°æ–¹ã€‚</p>
<p>æ€ä¹ˆä½¿ç”¨å‘¢ï¼Ÿçœ‹ä¸‹é¢ï¼š</p>
<p>1.é¦–å…ˆåœ¨é¡¹ç›®çš„index.htmlæ–‡ä»¶ä¸­æä¾›ä¸€ä¸ªæŒ‚åœ¨å…ƒç´ ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;  &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;  &lt;div id=&quot;dialog&quot;&gt;&lt;/div&gt;&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>2.ç„¶åå®šä¹‰ä¸€ä¸ªDialogç»„ä»¶ï¼š</p>
<p>æ³¨æ„toå±æ€§ï¼Œä¸€å®šæ˜¯è·Ÿindex.htmlä¸­æŒ‚è½½å…ƒç´ çš„idä¸€è‡´ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;    &lt;teleport to=&quot;#dialog&quot;&gt;        &lt;div class=&quot;dialog&quot;&gt;            &lt;div class=&quot;dialog-wrapper&quot;&gt;                &lt;p&gt;æš‚æ— æ•°æ®å“¦&lt;/p&gt;                &lt;p&gt; è¯·ä½ ç¨ç­‰â€¦â€¦&lt;/p&gt;            &lt;/div&gt;        &lt;/div&gt;    &lt;/teleport&gt;&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>æ¸²æŸ“ä¹‹åï¼Œæ£€æŸ¥å…ƒç´ ï¼Œä½ çš„Dialogç»„ä»¶å°±åœ¨appçš„åŒçº§äº†</p>
<img src="/Users/zlj/Library/Application Support/typora-user-images/image-20211007195037877.png" alt="image-20211007195037877" style="zoom:80%;" />

<h2 id="suspense"><a href="#suspense" class="headerlink" title="suspense"></a>suspense</h2><p>è¿™ä¸ªå±æ€§å‘¢ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ¥æ§åˆ¶å‰åç«¯æ•°æ®äº¤äº’çš„å¼‚æ­¥è¿‡ç¨‹ä¸­çš„åŠ è½½åŠ¨ç”»ã€‚ä¹‹å‰æˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨v-ifæ§åˆ¶ã€‚é‚£ä¹ˆæœ‰å•¦suspenseæ€ä¹ˆåšå‘¢ï¼Ÿ</p>
<p>äº†è§£ä¸€ä¸‹suspenseçš„ç”¨æ³•ï¼šå®ƒæä¾›ä¸¤ä¸ª<code>template</code> slot, åˆšå¼€å§‹ä¼šæ¸²æŸ“ä¸€ä¸ª fallback çŠ¶æ€ä¸‹çš„å†…å®¹ï¼Œ ç›´åˆ°åˆ°è¾¾æŸä¸ªæ¡ä»¶åæ‰ä¼šæ¸²æŸ“ default çŠ¶æ€çš„æ­£å¼å†…å®¹ï¼Œ é€šè¿‡ä½¿ç”¨<code>Suspense</code>ç»„ä»¶è¿›è¡Œå±•ç¤ºå¼‚æ­¥æ¸²æŸ“å°±æ›´åŠ çš„ç®€å•ã€‚:::warning å¦‚æœä½¿ç”¨ <code>Suspense</code>, è¦è¿”å›ä¸€ä¸ª promise :::<code>Suspense</code> ç»„ä»¶çš„ä½¿ç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Â  &lt;Suspense&gt;        &lt;template #default&gt;            &lt;async-component&gt;&lt;/async-component&gt;        &lt;/template&gt;        &lt;template #fallback&gt;            &lt;div&gt;                Loading...            &lt;/div&gt;        &lt;/template&gt;  &lt;/Suspense&gt;</span><br></pre></td></tr></table></figure>


    </div>

    
        <hr class="fhr">
        <div id="vcomments"></div>
    
</div>
    <div class="footer" id="footer">
    <p><h4>Copyright Â© 2020 | Author: Your Name | Theme By <a class="theme-author" target="_blank" rel="noopener" href="https://github.com/Xunzhuo/hexo-theme-coder" style="font-size:14px; color: #969696">Coder</a></h4>
    
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <span id="busuanzi_container_site_pv">Page Views: <span id="busuanzi_value_site_pv"></span></span>
        <span class="post-meta-divider">|</span>
        <span id="busuanzi_container_site_uv">Unique Visitors: <span id="busuanzi_value_site_uv"></span></span>
    
    <label class="el-switch el-switch-blue el-switch-sm" style="vertical-align: sub;">
        <input type="checkbox" name="switch" id="update_style">
        <span class="el-switch-style"></span>
    </label>

    <!--         <script type="text/javascript">
    var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");
    document.write(unescape("%3Cspan id='cnzz_stat_icon_1278548644'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "v1.cnzz.com/stat.php%3Fid%3D1278548644%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
    </script> -->
</p>
</div>

<input type="hidden" id="web_style" value="black">
<input type="hidden" id="valine_appid" value="NOsswOncKgc8HOxqo9oxIWlX-gzGzoHsz">
<input type="hidden" id="valine_appKey" value="z1FihjWEbS8uIfUQdmCtK7zz">

<script src="/libs/jquery.min.js"></script>


<script src="/libs/highlight/highlight.pack.js"></script>

<script src='//cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script>

<script src="/js/js.js"></script>

<style type="text/css">
.v * {
color: #698fca;
}
.v .vlist .vcard .vhead .vsys {
color: #3a3e4a;
}
.v .vlist .vcard .vh .vmeta .vat {
color: #638fd5;
}
.v .vlist .vcard .vhead .vnick {
color: #6ba1ff;
}
.v a {
color: #8696b1;
}
.v .vlist .vcard .vhead .vnick:hover {
color: #669bfc;
}
</style>
    <script type="text/javascript" color="173,174,173" opacity='1' zIndex="-2" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
</body>
</html>
